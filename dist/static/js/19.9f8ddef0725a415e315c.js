webpackJsonp([19],{tUyT:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("Hmpo"),o=t.n(s),l=t("vYJH"),u=t.n(l),a=t("2S+2"),m=t("T452"),i=t("rV7I"),n={data:function(){return{rules:{name:{required:!0,message:"请输入用户名称",trigger:"blur"},strip_uri:{required:!1,message:"请输入",trigger:"blur"},hosts:{required:!0,message:"请输入域",trigger:"blur"},methods:{required:!0,message:"请输入发送方式",trigger:"blur"},http_if_terminated:{required:!1,message:"请输入",trigger:"blur"},https_only:{required:!1,message:"请输入",trigger:"blur"},retries:{required:!1,message:"请输入失败重试次数",trigger:"blur"},uris:{required:!0,message:"请输入匹配路径",trigger:"blur"},preserve_host:{required:!1,message:"请输入",trigger:"blur"},upstream_connect_timeout:{required:!1,message:"请输入超时时间",trigger:"blur"},upstream_read_timeout:{required:!1,message:"请输入连续读取操作",trigger:"blur"},upstream_send_timeout:{required:!1,message:"请输入连续写入操作",trigger:"blur"},upstream_url:{required:!0,message:"请输入转发地址",trigger:"blur"}},ruleForm:{id:this.$route.params.id,name:"",strip_uri:!0,hosts:"",methods:[],http_if_terminated:!1,https_only:!1,retries:null,uris:"",preserve_host:!1,upstream_connect_timeout:"",upstream_read_timeout:"",upstream_send_timeout:"",upstream_url:""}}},created:function(){this.info()},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.request()})},info:function(){var e=this;return u()(o.a.mark(function r(){var t,s,l;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t={id:e.ruleForm.id},r.next=3,Object(a.b)(t);case 3:if((s=r.sent).data.code==m.d){r.next=6;break}return r.abrupt("return");case 6:l=s.data.data,e.ruleForm.name=l.name,e.ruleForm.strip_uri=l.strip_uri,e.ruleForm.uris=l.uris[0],e.ruleForm.hosts=l.hosts[0],e.ruleForm.upstream_url=l.upstream_url,e.ruleForm.retries=l.retries,e.ruleForm.preserve_host=l.preserve_host,e.ruleForm.upstream_connect_timeout=l.upstream_connect_timeout,e.ruleForm.upstream_send_timeout=l.upstream_send_timeout,e.ruleForm.upstream_read_timeout=l.upstream_read_timeout,e.ruleForm.https_only=l.https_only,e.ruleForm.http_if_terminated=l.http_if_terminated,l.methods.forEach(function(r,t,s){e.ruleForm.methods.push(r)});case 20:case"end":return r.stop()}},r,e)}))()},request:function(){var e=this;return u()(o.a.mark(function r(){var t,s;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.ruleForm,r.next=3,Object(a.e)(t);case 3:s=r.sent,e.loading=!0,s.data.code==m.d?(e.$router.push({path:"/kong/apis/list"}),e.loading=!1):Object(i.Message)(s.data.message);case 6:case"end":return r.stop()}},r,e)}))()},resetForm:function(e){this.$refs[e].resetFields()}}},p={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"api名称：",prop:"name"}},[t("el-input",{attrs:{name:"name",type:"text",placeholder:"api名称"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"域名：",prop:"hosts"}},[t("el-input",{attrs:{name:"hosts",type:"text",placeholder:"域名"},model:{value:e.ruleForm.hosts,callback:function(r){e.$set(e.ruleForm,"hosts",r)},expression:"ruleForm.hosts"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"发送方式：",prop:"methods"}},[t("el-checkbox-group",{model:{value:e.ruleForm.methods,callback:function(r){e.$set(e.ruleForm,"methods",r)},expression:"ruleForm.methods"}},[t("el-checkbox",{attrs:{label:"POST"}}),e._v(" "),t("el-checkbox",{attrs:{label:"GET"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"匹配路径：",prop:"uris"}},[t("el-input",{attrs:{name:"uris",type:"text",placeholder:"匹配路径"},model:{value:e.ruleForm.uris,callback:function(r){e.$set(e.ruleForm,"uris",r)},expression:"ruleForm.uris"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"转发地址：",prop:"upstream_url"}},[t("el-input",{attrs:{name:"upstream_url",type:"text",placeholder:"转发地址"},model:{value:e.ruleForm.upstream_url,callback:function(r){e.$set(e.ruleForm,"upstream_url",r)},expression:"ruleForm.upstream_url"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否前缀：",prop:"strip_uri"}},[t("el-radio-group",{model:{value:e.ruleForm.strip_uri,callback:function(r){e.$set(e.ruleForm,"strip_uri",r)},expression:"ruleForm.strip_uri"}},[t("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"preserve_host：",prop:"preserve_host"}},[t("el-radio-group",{model:{value:e.ruleForm.preserve_host,callback:function(r){e.$set(e.ruleForm,"preserve_host",r)},expression:"ruleForm.preserve_host"}},[t("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"失败重试次数：",prop:"retries"}},[t("el-input",{attrs:{name:"retries",type:"text",placeholder:"失败重试次数"},model:{value:e.ruleForm.retries,callback:function(r){e.$set(e.ruleForm,"retries",r)},expression:"ruleForm.retries"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"连接超时时间：",prop:"upstream_connect_timeout"}},[t("el-input",{attrs:{name:"upstream_connect_timeout",type:"text",placeholder:"连接超时时间"},model:{value:e.ruleForm.upstream_connect_timeout,callback:function(r){e.$set(e.ruleForm,"upstream_connect_timeout",r)},expression:"ruleForm.upstream_connect_timeout"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"连续写入操作：",prop:"upstream_send_timeout"}},[t("el-input",{attrs:{name:"upstream_send_timeout",type:"text",placeholder:"连续写入操作"},model:{value:e.ruleForm.upstream_send_timeout,callback:function(r){e.$set(e.ruleForm,"upstream_send_timeout",r)},expression:"ruleForm.upstream_send_timeout"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"连续读取操作：",prop:"upstream_read_timeout"}},[t("el-input",{attrs:{name:"upstream_read_timeout",type:"text",placeholder:"连续读取操作"},model:{value:e.ruleForm.upstream_read_timeout,callback:function(r){e.$set(e.ruleForm,"upstream_read_timeout",r)},expression:"ruleForm.upstream_read_timeout"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"端口服务：",prop:"https_only"}},[t("el-radio-group",{model:{value:e.ruleForm.https_only,callback:function(r){e.$set(e.ruleForm,"https_only",r)},expression:"ruleForm.https_only"}},[t("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"PROTO头：",prop:"http_if_terminated"}},[t("el-radio-group",{model:{value:e.ruleForm.http_if_terminated,callback:function(r){e.$set(e.ruleForm,"http_if_terminated",r)},expression:"ruleForm.http_if_terminated"}},[t("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),t("el-button",{on:{click:function(r){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]},_=t("D8HT")(n,p,!1,null,null,null);r.default=_.exports}});
//# sourceMappingURL=19.9f8ddef0725a415e315c.js.map