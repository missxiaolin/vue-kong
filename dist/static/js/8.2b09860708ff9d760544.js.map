{"version":3,"sources":["webpack:///src/view/user/edit.vue","webpack:///./src/view/user/edit.vue?760d","webpack:///./src/view/user/edit.vue","webpack:///./src/api/user.js"],"names":["edit","data","rules","name","required","message","trigger","mobile","password","min","max","ruleForm","id","this","$route","params","created","userInfo","methods","submitForm","formName","self","$refs","validate","valid","add","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","Object","user","sent","loading","code","config","$router","push","path","element_ui_common","stop","_this2","_callee2","_context2","then","resetForm","resetFields","user_edit","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","label","prop","type","placeholder","value","callback","$$v","$set","expression","_v","autoComplete","onfocus","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","query","__WEBPACK_IMPORTED_MODULE_0__common_js_fetch__","url","method"],"mappings":"uLAgCAA,GACAC,KADA,WAEA,OACAC,OACAC,OACAC,UAAA,EACAC,QAAA,UACAC,QAAA,SAEAC,QACAH,UAAA,EACAC,QAAA,WACAC,QAAA,QAEAE,WACAJ,UAAA,EACAC,QAAA,QACAC,QAAA,SAGAG,IAAA,EACAC,IAAA,EACAL,QAAA,gBACAC,QAAA,UAIAK,UACAC,GAAAC,KAAAC,OAAAC,OAAAH,GACAT,KAAA,GACAI,OAAA,GACAC,SAAA,MAIAQ,QAnCA,WAoCA,GAAAH,KAAAF,SAAAC,IACAC,KAAAI,YAGAC,SACAC,WADA,SACAC,GACA,IAAAC,EAAAR,KACAA,KAAAS,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EAIA,SAHAH,EAAAI,SAOAA,IAZA,WAYA,IAAAC,EAAAb,KAAA,OAAAc,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAhB,EAAAiB,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACArB,EAAAW,EAAAf,SADAuB,EAAAE,KAAA,EAEAC,OAAAC,EAAA,EAAAD,CAAAtB,GAFA,OAEAiB,EAFAE,EAAAK,KAGAb,EAAAc,SAAA,EACAR,EAAA/B,KAAAwC,MAAAC,EAAA,EACAhB,EAAAiB,QAAAC,MACAC,KAAA,UAGAR,OAAAS,EAAA,QAAAT,CAAAL,EAAA/B,KAAAI,SATA,wBAAA6B,EAAAa,SAAAhB,EAAAL,KAAAC,IAYAV,SAxBA,WAwBA,IAAA+B,EAAAnC,KAAA,OAAAc,IAAAC,EAAAC,EAAAC,KAAA,SAAAmB,IAAA,IAAA5B,EAAAN,EAAA,OAAAa,EAAAC,EAAAI,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,cACAf,EAAA2B,EACAjC,GACAH,GAAAoC,EAAAlC,OAAAC,OAAAH,IAHAsC,EAAAd,KAAA,EAKAC,OAAAC,EAAA,EAAAD,CAAAtB,GAAAoC,KAAA,SAAAnB,GACAA,EAAA/B,KAAAwC,MAAAC,EAAA,GACArB,EAAAV,SAAAR,KAAA6B,EAAA/B,UAAAE,KACAkB,EAAAV,SAAAJ,OAAAyB,EAAA/B,UAAAM,OACAc,EAAAmB,SAAA,GAEAH,OAAAS,EAAA,QAAAT,CAAAL,EAAA/B,KAAAI,SAEAgB,EAAAmB,SAAA,IAbA,wBAAAU,EAAAH,SAAAE,EAAAD,KAAArB,IAgBAyB,UAxCA,SAwCAhC,GACAP,KAAAS,MAAAF,GAAAiC,iBC9GAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,WAAgBG,IAAA,WAAAD,YAAA,gBAAAE,OAAkDC,MAAAR,EAAA7C,SAAAT,MAAAsD,EAAAtD,MAAA+D,cAAA,WAA8DN,EAAA,gBAAqBI,OAAOG,MAAA,OAAAC,KAAA,UAA8BR,EAAA,YAAiBI,OAAO5D,KAAA,OAAAiE,KAAA,OAAAC,YAAA,QAAiDL,OAAQM,MAAAd,EAAA7C,SAAA,KAAA4D,SAAA,SAAAC,GAAmDhB,EAAAiB,KAAAjB,EAAA7C,SAAA,OAAA6D,IAAoCE,WAAA,oBAA6B,GAAAlB,EAAAmB,GAAA,KAAAhB,EAAA,gBAAqCI,OAAOG,MAAA,OAAAC,KAAA,YAAgCR,EAAA,YAAiBI,OAAO5D,KAAA,SAAAiE,KAAA,SAAAQ,aAAA,MAAAP,YAAA,QAA0EL,OAAQM,MAAAd,EAAA7C,SAAA,OAAA4D,SAAA,SAAAC,GAAqDhB,EAAAiB,KAAAjB,EAAA7C,SAAA,SAAA6D,IAAsCE,WAAA,sBAA+B,GAAAlB,EAAAmB,GAAA,KAAAhB,EAAA,gBAAqCI,OAAOG,MAAA,MAAAC,KAAA,cAAiCR,EAAA,YAAiBI,OAAO5D,KAAA,WAAAiE,KAAA,OAAAQ,aAAA,MAAAP,YAAA,KAAAQ,QAAA,wBAAyGb,OAAQM,MAAAd,EAAA7C,SAAA,SAAA4D,SAAA,SAAAC,GAAuDhB,EAAAiB,KAAAjB,EAAA7C,SAAA,WAAA6D,IAAwCE,WAAA,wBAAiC,GAAAlB,EAAAmB,GAAA,KAAAhB,EAAA,gBAAAA,EAAA,aAAqDI,OAAOK,KAAA,WAAiBU,IAAKC,MAAA,SAAAC,GAAyBxB,EAAArC,WAAA,gBAA6BqC,EAAAmB,GAAA,UAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,aAA+CmB,IAAIC,MAAA,SAAAC,GAAyBxB,EAAAJ,UAAA,gBAA4BI,EAAAmB,GAAA,qBAE12CM,oBCYjBC,EAdAC,EAAA,OAcAC,CACApF,EACAsD,GATA,EAEA,KAEA,KAEA,MAUA+B,EAAA,QAAAH,EAAA,+CCjBO,SAAoBI,GACzB,OAAOjD,OAAAkD,EAAA,EAAAlD,EACLmD,IAAK,mBACLC,OAAQ,MACR1E,OAAQuE,SAQL,SAAoBA,GACzB,OAAOjD,OAAAkD,EAAA,EAAAlD,EACLmD,IAAK,mBACLC,OAAQ,MACR1E,OAAQuE,SAQL,SAA0BA,GAC/B,OAAOjD,OAAAkD,EAAA,EAAAlD,EACLmD,IAAK,0BACLC,OAAQ,OACRxF,KAAMqF,SAQH,SAAmBA,GACxB,OAAOjD,OAAAkD,EAAA,EAAAlD,EACLmD,IAAK,iBACLC,OAAQ,OACRxF,KAAMqF,SAQH,SAAmBA,GACxB,OAAOjD,OAAAkD,EAAA,EAAAlD,EACLmD,IAAK,kBACLC,OAAQ,MACR1E,OAAQuE,SAQL,SAAqBA,GAC1B,OAAOjD,OAAAkD,EAAA,EAAAlD,EACLmD,IAAK,oBACLC,OAAQ,OACRxF,KAAMqF","file":"static/js/8.2b09860708ff9d760544.js","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n      <el-form-item label=\"用户名称\" prop=\"name\">\n        <el-input name=\"name\" type=\"text\" v-model=\"ruleForm.name\" placeholder=\"用户名称\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"手机号：\" prop=\"mobile\">\n        <el-input name=\"mobile\" type=\"number\" v-model=\"ruleForm.mobile\" autoComplete=\"off\" placeholder=\"手机号码\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码：\" prop=\"password\">\n        <el-input name=\"password\" type=\"text\" v-model=\"ruleForm.password\" autoComplete=\"off\" placeholder=\"密码\" onfocus=\"this.type='password'\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\n        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {\n  userEdit,\n  userInfo\n} from 'api/user'\nimport {\n  ERR_OK\n} from '@/api/config'\nimport {\n  Message\n} from 'element-ui'\n\nexport default {\n  data () {\n    return {\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入用户名称',\n          trigger: 'blur'\n        }],\n        mobile: {\n          required: true,\n          message: '请输入正确手机号',\n          trigger: 'blur'\n        },\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        },\n        {\n          min: 3,\n          max: 8,\n          message: '长度在 3 到 8 个字符',\n          trigger: 'blur'\n        }\n        ]\n      },\n      ruleForm: {\n        id: this.$route.params.id,\n        name: '',\n        mobile: '',\n        password: ''\n      }\n    }\n  },\n  created () {\n    if (this.ruleForm.id != 0) {\n      this.userInfo()\n    }\n  },\n  methods: {\n    submitForm (formName) {\n      let self = this\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          self.add()\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    async add () {\n      let params = this.ruleForm\n      let response = await userEdit(params)\n      this.loading = true\n      if (response.data.code == ERR_OK) {\n        this.$router.push({\n          path: '/user'\n        })\n      } else {\n        Message(response.data.message)\n      }\n    },\n    async userInfo () {\n      let self = this\n      let params = {\n        id: this.$route.params.id\n      }\n      await userInfo(params).then(function (response) {\n        if (response.data.code == ERR_OK) {\n          self.ruleForm.name = response.data.data.name\n          self.ruleForm.mobile = response.data.data.mobile\n          self.loading = false\n        } else {\n          Message(response.data.message)\n        }\n        self.loading = true\n      })\n    },\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/view/user/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"name\":\"name\",\"type\":\"text\",\"placeholder\":\"用户名称\"},model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机号：\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"name\":\"mobile\",\"type\":\"number\",\"autoComplete\":\"off\",\"placeholder\":\"手机号码\"},model:{value:(_vm.ruleForm.mobile),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"mobile\", $$v)},expression:\"ruleForm.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码：\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"name\":\"password\",\"type\":\"text\",\"autoComplete\":\"off\",\"placeholder\":\"密码\",\"onfocus\":\"this.type='password'\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"立即创建\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-65c89515\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/view/user/edit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65c89515\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/user/edit.vue\n// module id = null\n// module chunks = ","import fetch from '@/common/js/fetch'\n\n/**\n * 用户列表\n * @param {*} query\n */\nexport function userLists (query) {\n  return fetch({\n    url: '/kong/user/lists',\n    method: 'get',\n    params: query\n  })\n}\n\n/**\n * 用户角色列表\n * @param {*} query\n */\nexport function userRoles (query) {\n  return fetch({\n    url: '/kong/user/roles',\n    method: 'get',\n    params: query\n  })\n}\n\n/**\n * 绑定角色\n * @param {*} query\n */\nexport function userUpdateRoles (query) {\n  return fetch({\n    url: '/kong/user/update/roles',\n    method: 'post',\n    data: query\n  })\n}\n\n/**\n * 用户编辑\n * @param {*} query\n */\nexport function userEdit (query) {\n  return fetch({\n    url: '/kong/user/add',\n    method: 'post',\n    data: query\n  })\n}\n\n/**\n * 用户查询\n * @param {*} query\n */\nexport function userInfo (query) {\n  return fetch({\n    url: '/kong/user/info',\n    method: 'get',\n    params: query\n  })\n}\n\n/**\n * 用户禁用、开启\n * @param {*} query\n */\nexport function userStatus (query) {\n  return fetch({\n    url: '/kong/user/status',\n    method: 'post',\n    data: query\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/user.js"],"sourceRoot":""}